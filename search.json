[{"path":"https://kentwildlifetrust.github.io/kwt/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2022 kwt authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/articles/odbc_database_connection.html","id":"how-to-set-up-an-odbc-connection-to-the-postgresql-database","dir":"Articles","previous_headings":"","what":"How to Set up an ODBC Connection to the PostgreSQL Database","title":"odbc_database_connection","text":"kwt functions work PostgreSQL database tested ODBC connections. saves database connection machine, avoiding need use .Renviron save database credentials. need set database using database credentials.","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/articles/odbc_database_connection.html","id":"download-and-install-the-postgresql-odbc-driver","dir":"Articles","previous_headings":"How to Set up an ODBC Connection to the PostgreSQL Database","what":"1 - Download and install the PostgreSQL ODBC driver","title":"odbc_database_connection","text":"driver can downloaded : https://www.postgresql.org/ftp/odbc/versions/msi/. ’ll need scroll recent file ending x64.zip click download. Extract zip folder downloads double click psqlodbc_x64.msi open setup wizard.  Use next buttons go wizard. need agree liscence agreement. click ‘install’. Wait installation (may need click ok let windows install driver).","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/articles/odbc_database_connection.html","id":"set-up-an-odbc-data-source","dir":"Articles","previous_headings":"How to Set up an ODBC Connection to the PostgreSQL Database","what":"2 - Set up an ODBC Data Source","title":"odbc_database_connection","text":"installation complete, search ‘ODBC’ search box task bar. Click app called ODBC Data Sources (64-bit).  Go second tab called ‘System DSN’. probably won’t anything listed yet! Click ‘Add…’ open smaller box.  Select PostgreSQL Unicode(x64) driver. isn’t listed, installation wasn’t successful. Click Finish open yet another box.  Enter details follows: Data Source: Choose name connection. ’s easiest use name database connects . example ’s database called ‘shared’. Description: really necessary. Leave blank. Database: name database. Usually ‘shared’ ’s GIS data . SSL Mode: Set ‘prefer’. Server: host address server. provided along database credentials. Port: Set 5432. User Name: username give . Password: Also given .  ’ve entered , click ‘Test’ check works. click ‘Save’. connection now listed System Data Sources, can click ‘OK’ close ODBC Data Source Administrator.","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/articles/odbc_database_connection.html","id":"connect-to-the-data-source-in-rstudio","dir":"Articles","previous_headings":"How to Set up an ODBC Connection to the PostgreSQL Database","what":"Connect to the Data Source in RStudio","title":"odbc_database_connection","text":"Open RStudio click ‘New Connection’ Connections Pane.  able find newly created ODBC data source box opens . Click make sure choose ‘Connect : R Console’. Click OK.   Now see database represented series dropdowns schemas objects inside (tables, views materialised views). can choose write SQL queries clicking SQL button, though package allows easily use database without need write SQL . Functions like kwt::start_query kwt::run_query make use connection object created code chunk . can combined dplyr functions make SQL queries run server, returning data frame spatial data frame. functions may need specify connection object just created, example called con, however leave name connection object db functions package use without needing explicitly include argument.  RStudio now remembers code chunk used set connection others create. means connection couple clicks away made! also risk database credentials exposed code.","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Robbie Still. Maintainer, author. Euan Mckenzie. Author.","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Still R, Mckenzie E (2024). kwt: Tools Coding Kent Wildlife Trust. R package version 0.0.1.0016, https://kentwildlifetrust.github.io/kwt/.","code":"@Manual{,   title = {kwt: Tools for Coding at Kent Wildlife Trust},   author = {Robbie Still and Euan Mckenzie},   year = {2024},   note = {R package version 0.0.1.0016},   url = {https://kentwildlifetrust.github.io/kwt/}, }"},{"path":"https://kentwildlifetrust.github.io/kwt/index.html","id":"kwt","dir":"","previous_headings":"","what":"Tools for Coding at Kent Wildlife Trust","title":"Tools for Coding at Kent Wildlife Trust","text":"{kwt} provides basket tools make day--day work Kent Wildlife Trust Group easier. includes functions working PostgreSQL database, well working awkward spatial data types like grid references postcodes.","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Tools for Coding at Kent Wildlife Trust","text":"can install development version GitHub :","code":"# install.packages(\"devtools\") devtools::install_github(\"kentwildlifetrust/kwt\")"},{"path":"https://kentwildlifetrust.github.io/kwt/reference/addCustomLegend.html","id":null,"dir":"Reference","previous_headings":"","what":"Title Create a custom legend for a leaflet webmap — addCustomLegend","title":"Title Create a custom legend for a leaflet webmap — addCustomLegend","text":"Title Create custom legend leaflet webmap","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/reference/addCustomLegend.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Title Create a custom legend for a leaflet webmap — addCustomLegend","text":"","code":"addCustomLegend(map, colors, labels, sizes, shapes, borders, opacity = 0.5)"},{"path":"https://kentwildlifetrust.github.io/kwt/reference/addCustomLegend.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Title Create a custom legend for a leaflet webmap — addCustomLegend","text":"map leaflet map add legend colors colors, ideally hex codes labels character labels sizes sizes, numeric vector shapes character shapes borders border colours, ideally hex codes opacity opacity, ranging 0 (transparent) 1 (opaque)","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/reference/addCustomLegend.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Title Create a custom legend for a leaflet webmap — addCustomLegend","text":"","code":"colors <- c(\"#E69F00\", \"#56B4E9\", \"#009E73\") labels <- c(\"One\", \"Two\", \"Three\") sizes <- c(10, 5, 7.5) shapes <- c(\"square\", \"circle\", \"square\") borders <- c(\"#E69F00\", \"#56B4E9\", \"#009E73\") leaflet::leaflet() %>%   addCustomLegend(colors, labels, sizes, shapes, borders)  {\"x\":{\"options\":{\"crs\":{\"crsClass\":\"L.CRS.EPSG3857\",\"code\":null,\"proj4def\":null,\"projectedBounds\":null,\"options\":{}}},\"calls\":[{\"method\":\"addLegend\",\"args\":[{\"colors\":[\"#E69F00; width:10px; height:10px; border:3px solid #E69F00; border-radius:0%\",\"#56B4E9; width:5px; height:5px; border:3px solid #56B4E9; border-radius:50%\",\"#009E73; width:7.5px; height:7.5px; border:3px solid #009E73; border-radius:0%\"],\"labels\":[\"<div style='display: inline-block;height: 10px;margin-top: 4px;line-height: 10px;'>One<\\/div>\",\"<div style='display: inline-block;height: 5px;margin-top: 4px;line-height: 5px;'>Two<\\/div>\",\"<div style='display: inline-block;height: 7.5px;margin-top: 4px;line-height: 7.5px;'>Three<\\/div>\"],\"na_color\":null,\"na_label\":\"NA\",\"opacity\":0.5,\"position\":\"topright\",\"type\":\"unknown\",\"title\":null,\"extra\":null,\"layerId\":null,\"className\":\"info legend\",\"group\":null}]}]},\"evals\":[],\"jsHooks\":[]}"},{"path":"https://kentwildlifetrust.github.io/kwt/reference/add_role.html","id":null,"dir":"Reference","previous_headings":"","what":"Add a role to the database — add_role","title":"Add a role to the database — add_role","text":"Creates new role records admin.logins table.","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/reference/add_role.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add a role to the database — add_role","text":"","code":"add_role(conn, username, group)"},{"path":"https://kentwildlifetrust.github.io/kwt/reference/add_role.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add a role to the database — add_role","text":"conn Connection database using admin credentials. Currently work lnrs shared databases. username username new credentials. group name user group add credentials .","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/reference/add_role.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add a role to the database — add_role","text":"list including username password new credentials","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/reference/db_write_data_model.html","id":null,"dir":"Reference","previous_headings":"","what":"Write a ReDaMoR data model to the database — db_write_data_model","title":"Write a ReDaMoR data model to the database — db_write_data_model","text":"Write ReDaMoR data model database","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/reference/db_write_data_model.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Write a ReDaMoR data model to the database — db_write_data_model","text":"","code":"db_write_data_model(x, schema_name, crs_srid = 4326, overwrite = F, conn = db)"},{"path":"https://kentwildlifetrust.github.io/kwt/reference/db_write_data_model.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Write a ReDaMoR data model to the database — db_write_data_model","text":"x RelDataModel list created kwt::read_json_data_model kwt::model_relational_data schema_name name schema create tables . crs_srid SRID coordinate reference system use geometry columns, present tables. overwrite logical. set TRUE overwrite existing tables names matching tables model. Data lost. conn database connection object","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/reference/edit_vals.html","id":null,"dir":"Reference","previous_headings":"","what":"Edit values of a table. — edit_vals","title":"Edit values of a table. — edit_vals","text":"function allows edit values table database. open shiny app can edit values table. can add, remove edit rows. function update database changes made. PLEASE NOTE: app, must click synchronise button 'Done' apply changes.","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/reference/edit_vals.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Edit values of a table. — edit_vals","text":"","code":"edit_vals(ref, backup = T, conn = db)"},{"path":"https://kentwildlifetrust.github.io/kwt/reference/edit_vals.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Edit values of a table. — edit_vals","text":"ref table reference format provided list_tables() backup whether make backup data editing conn connection object","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/reference/edit_vals.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Edit values of a table. — edit_vals","text":"","code":"if (interactive()) {   db <- DBI::dbConnect(odbc::odbc(), dsn = \"shared\", timeout = 10)   #make an example dataset in the testing schema of the database   #include a kwtid column, a name column, a description column and a geom column   DBI::dbExecute(db, \"DROP TABLE IF EXISTS testing.edit_vals_example;\")   DBI::dbExecute(db, \"CREATE SCHEMA IF NOT EXISTS testing;\")   DBI::dbExecute(db, \"CREATE TABLE IF NOT EXISTS testing.edit_vals_example (                       kwtid SERIAL PRIMARY KEY,                       name VARCHAR(50),                       description TEXT,                       geom geometry(POINT, 4326)                     );\")   #generate some example data   example_data <- data.frame(name = c(\"A\", \"B\", \"C\"),                             description = c(\"First\", \"Second\", \"Third\"),                             geom = list(c(0, 0), c(1, 1), c(2, 2)) %>%                               lapply(sf::st_point) %>%                               sf::st_as_sfc() %>%                               sf::st_as_text())   DBI::dbAppendTable(db,                   RPostgres::Id(schema = \"testing\", table = \"edit_vals_example\"),                   example_data)   #list datbase tables   db_list <- list_db(conn = db)   #edit the example table   edit_vals(db_list$testing$edit_vals_example, backup = F, conn = db) }"},{"path":"https://kentwildlifetrust.github.io/kwt/reference/en2os.html","id":null,"dir":"Reference","previous_headings":"","what":"Eastings and Northings to OS Grid Ref This function converts eastings and northings to an OS grid ref of a specified length. — en2os","title":"Eastings and Northings to OS Grid Ref This function converts eastings and northings to an OS grid ref of a specified length. — en2os","text":"Eastings Northings OS Grid Ref function converts eastings northings OS grid ref specified length.","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/reference/en2os.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Eastings and Northings to OS Grid Ref This function converts eastings and northings to an OS grid ref of a specified length. — en2os","text":"","code":"en2os(easting, northing, resolution)"},{"path":"https://kentwildlifetrust.github.io/kwt/reference/en2os.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Eastings and Northings to OS Grid Ref This function converts eastings and northings to an OS grid ref of a specified length. — en2os","text":"easting eastings point converted. northing northings point converted. resolution resolution grid reference produced.","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/reference/en2os.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Eastings and Northings to OS Grid Ref This function converts eastings and northings to an OS grid ref of a specified length. — en2os","text":"","code":"df <- data.frame(easting = c(385760, 532765, 479732), northing = c(219790, 122444, 347045)) gridrefs <- en2os(df$easting, df$northing, 6)"},{"path":"https://kentwildlifetrust.github.io/kwt/reference/get_definition.html","id":null,"dir":"Reference","previous_headings":"","what":"Get the Definition of a View or Materialised View — get_definition","title":"Get the Definition of a View or Materialised View — get_definition","text":"Get Definition View Materialised View","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/reference/get_definition.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get the Definition of a View or Materialised View — get_definition","text":"","code":"get_definition(ref, conn = db)"},{"path":"https://kentwildlifetrust.github.io/kwt/reference/get_definition.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get the Definition of a View or Materialised View — get_definition","text":"ref table reference format provided list_tables() conn connection object","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/reference/get_definition.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get the Definition of a View or Materialised View — get_definition","text":"character string containing definition view materialised view SQL","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/reference/kwt_db_connect.html","id":null,"dir":"Reference","previous_headings":"","what":"kwt_db_connect — kwt_db_connect","title":"kwt_db_connect — kwt_db_connect","text":"kwt_db_connect","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/reference/kwt_db_connect.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"kwt_db_connect — kwt_db_connect","text":"","code":"kwt_db_connect(   db = \"shared\",   username = Sys.getenv(\"user\"),   password = Sys.getenv(\"password\") )"},{"path":"https://kentwildlifetrust.github.io/kwt/reference/kwt_db_connect.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"kwt_db_connect — kwt_db_connect","text":"db name internal database within postgres, shared standard username postgres username, default autoreads kwt_user global .renviron file, see usethis::edit_r_environ() details password postgres password, default autoreads kwt_password global .renviron file, see usethis::edit_r_environ() details","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/reference/kwt_db_connect.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"kwt_db_connect — kwt_db_connect","text":"","code":"conn <- kwt_db_connect() #> Error: connection to server on socket \"/var/run/postgresql/.s.PGSQL.5432\" failed: No such file or directory #> \tIs the server running locally and accepting connections on that socket?"},{"path":"https://kentwildlifetrust.github.io/kwt/reference/list_db.html","id":null,"dir":"Reference","previous_headings":"","what":"List all schemas, tables and views in a database — list_db","title":"List all schemas, tables and views in a database — list_db","text":"List schemas, tables views database","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/reference/list_db.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List all schemas, tables and views in a database — list_db","text":"","code":"list_db(conn = db)"},{"path":"https://kentwildlifetrust.github.io/kwt/reference/list_db.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List all schemas, tables and views in a database — list_db","text":"conn connection object","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/reference/list_db.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List all schemas, tables and views in a database — list_db","text":"list schemas. schema list refs tables, views materialised views schema. ref list containing three values: table_schema: schema table/view table_name: name table/view type: type table/view. Either \"table\", \"view\" \"matview\"","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/reference/map_views.html","id":null,"dir":"Reference","previous_headings":"","what":"View a directed graph of view dependencies in a database. — map_views","title":"View a directed graph of view dependencies in a database. — map_views","text":"View directed graph view dependencies database.","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/reference/map_views.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"View a directed graph of view dependencies in a database. — map_views","text":"","code":"map_views(   conn = db,   ignore_schemas = c(\"information_schema\", \"pg_catalog\", \"postgis\", \"admin\", \"dev\",     \"outputs_backup\", \"public\") )"},{"path":"https://kentwildlifetrust.github.io/kwt/reference/map_views.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"View a directed graph of view dependencies in a database. — map_views","text":"conn DBI connection object. ignore_schemas character vector schema names ignore.","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/reference/map_views.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"View a directed graph of view dependencies in a database. — map_views","text":"htmltools widget showing directed graph view dependencies.","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/reference/os2en.html","id":null,"dir":"Reference","previous_headings":"","what":"OS Grid Ref to Eastings and Northings — os2en","title":"OS Grid Ref to Eastings and Northings — os2en","text":"function creates data frame containing easting northing coordinates SW corner grid reference.","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/reference/os2en.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"OS Grid Ref to Eastings and Northings — os2en","text":"","code":"os2en(gridreference)"},{"path":"https://kentwildlifetrust.github.io/kwt/reference/os2en.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"OS Grid Ref to Eastings and Northings — os2en","text":"gridreference grid reference converted. Can resolution.","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/reference/os2en.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"OS Grid Ref to Eastings and Northings — os2en","text":"","code":"df <- data.frame(gridref = c(\"SO857197\", \"TQ327224\", \"SK797470\")) coords <- os2en(df$gridref)"},{"path":"https://kentwildlifetrust.github.io/kwt/reference/os2point.html","id":null,"dir":"Reference","previous_headings":"","what":"Function for creating a polygon from a grid reference, with the size of the polygon dependant on the precision of the grid reference — os2point","title":"Function for creating a polygon from a grid reference, with the size of the polygon dependant on the precision of the grid reference — os2point","text":"function creates sf polygon object, .","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/reference/os2point.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function for creating a polygon from a grid reference, with the size of the polygon dependant on the precision of the grid reference — os2point","text":"","code":"os2point(df, grid_ref_col = \"grid_ref\")"},{"path":"https://kentwildlifetrust.github.io/kwt/reference/os2point.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function for creating a polygon from a grid reference, with the size of the polygon dependant on the precision of the grid reference — os2point","text":"df data frame, must include column containing grid references grid_ref_col name column containing grid references","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/reference/os2point.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Function for creating a polygon from a grid reference, with the size of the polygon dependant on the precision of the grid reference — os2point","text":"","code":"df <- data.frame(gridref = c(\"SO857197\", \"TQ327224\", \"SK797470\")) coords <- os2point(df, grid_ref_col = \"gridref\")"},{"path":"https://kentwildlifetrust.github.io/kwt/reference/os2poly.html","id":null,"dir":"Reference","previous_headings":"","what":"Function for creating a polygon from a grid reference, with the size of the polygon dependent on the precision of the grid reference — os2poly","title":"Function for creating a polygon from a grid reference, with the size of the polygon dependent on the precision of the grid reference — os2poly","text":"function creates sf polygon object, .","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/reference/os2poly.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function for creating a polygon from a grid reference, with the size of the polygon dependent on the precision of the grid reference — os2poly","text":"","code":"os2poly(df, grid_ref_col = \"grid_ref\")"},{"path":"https://kentwildlifetrust.github.io/kwt/reference/os2poly.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function for creating a polygon from a grid reference, with the size of the polygon dependent on the precision of the grid reference — os2poly","text":"df data frame, must include column containing grid references grid_ref_col name column containing grid references","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/reference/os2poly.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Function for creating a polygon from a grid reference, with the size of the polygon dependent on the precision of the grid reference — os2poly","text":"","code":"df <- data.frame(gridref = c(\"SO85719789\", \"TQ327224\", \"SK7974\", \"TF73G\")) polys <- os2poly(df, grid_ref_col = \"gridref\")"},{"path":"https://kentwildlifetrust.github.io/kwt/reference/pipe.html","id":null,"dir":"Reference","previous_headings":"","what":"Pipe operator — %>%","title":"Pipe operator — %>%","text":"See magrittr::%>% details.","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/reference/pipe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pipe operator — %>%","text":"","code":"lhs %>% rhs"},{"path":"https://kentwildlifetrust.github.io/kwt/reference/pipe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pipe operator — %>%","text":"lhs value magrittr placeholder. rhs function call using magrittr semantics.","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/reference/pipe.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pipe operator — %>%","text":"result calling rhs(lhs).","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/reference/postcode2point.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert postcode to sf point — postcode2point","title":"Convert postcode to sf point — postcode2point","text":"Convert postcode sf point","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/reference/postcode2point.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert postcode to sf point — postcode2point","text":"","code":"postcode2point(df, postcode_col)"},{"path":"https://kentwildlifetrust.github.io/kwt/reference/postcode2point.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert postcode to sf point — postcode2point","text":"df input data frame, containing postcode values postcode_col name column containing postcode","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/reference/postcode2point.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert postcode to sf point — postcode2point","text":"sf data frame, containing formatted postcodes column alongside original","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/reference/postcode2point.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert postcode to sf point — postcode2point","text":"","code":"postcodes_df <- data.frame(postcode = c(\"AB101AB\", \"AB10 1AF\", \"ab10 1ag\")) postcodes_sf <- postcode2point(postcodes_df, \"postcode\")"},{"path":"https://kentwildlifetrust.github.io/kwt/reference/postcode_lookup.html","id":null,"dir":"Reference","previous_headings":"","what":"Lookup table with easting and northing coordinates for each UK postcode. — postcode_lookup","title":"Lookup table with easting and northing coordinates for each UK postcode. — postcode_lookup","text":"dataset containing easting northing coordinates UK postcodes. dataset containing easting northing coordinates UK postcodes.","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/reference/postcode_lookup.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Lookup table with easting and northing coordinates for each UK postcode. — postcode_lookup","text":"","code":"postcode_lookup  postcode_lookup"},{"path":"https://kentwildlifetrust.github.io/kwt/reference/postcode_lookup.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Lookup table with easting and northing coordinates for each UK postcode. — postcode_lookup","text":"data frame 1725632 rows 3 variables: postcode uk postcode, spaces capitalised eastings easting coordinate northings northing coordinate data frame 1725632 rows 3 variables: postcode uk postcode, spaces capitalised eastings easting coordinate northings northing coordinate","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/reference/postcode_lookup.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Lookup table with easting and northing coordinates for each UK postcode. — postcode_lookup","text":"https://osdatahub.os.uk/downloads/open/CodePointOpen https://osdatahub.os.uk/downloads/open/CodePointOpen","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/reference/reexports.html","id":null,"dir":"Reference","previous_headings":"","what":"Objects exported from other packages — reexports","title":"Objects exported from other packages — reexports","text":"objects imported packages. Follow links see documentation. ReDaMoR model_relational_data, read_json_data_model, write_json_data_model","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/reference/run_query.html","id":null,"dir":"Reference","previous_headings":"","what":"Run a query and return the result as a data frame or sf — run_query","title":"Run a query and return the result as a data frame or sf — run_query","text":"Run query return result data frame sf","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/reference/run_query.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run a query and return the result as a data frame or sf — run_query","text":"","code":"run_query(x = NULL, ref = NULL, conn = db)"},{"path":"https://kentwildlifetrust.github.io/kwt/reference/run_query.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Run a query and return the result as a data frame or sf — run_query","text":"x dplyr tbl object character string containing SQL query. ref list containing table schema name. conn connection object. required x character string.","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/reference/run_query.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Run a query and return the result as a data frame or sf — run_query","text":"data frame sf object","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/reference/st_centroid_within_poly.html","id":null,"dir":"Reference","previous_headings":"","what":"Function for finding a centroid and ensuring that it is within the polygon for irregularly shaped polygons This function returns an sf point object. — st_centroid_within_poly","title":"Function for finding a centroid and ensuring that it is within the polygon for irregularly shaped polygons This function returns an sf point object. — st_centroid_within_poly","text":"Function finding centroid ensuring within polygon irregularly shaped polygons function returns sf point object.","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/reference/st_centroid_within_poly.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function for finding a centroid and ensuring that it is within the polygon for irregularly shaped polygons This function returns an sf point object. — st_centroid_within_poly","text":"","code":"st_centroid_within_poly(poly)"},{"path":"https://kentwildlifetrust.github.io/kwt/reference/st_centroid_within_poly.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function for finding a centroid and ensuring that it is within the polygon for irregularly shaped polygons This function returns an sf point object. — st_centroid_within_poly","text":"poly  sf object containing polygons want centroids ","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/reference/st_centroid_within_poly.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Function for finding a centroid and ensuring that it is within the polygon for irregularly shaped polygons This function returns an sf point object. — st_centroid_within_poly","text":"","code":"nc = sf::st_read(system.file(\"shape/nc.shp\", package=\"sf\")) #> Reading layer `nc' from data source  #>   `/home/runner/work/_temp/Library/sf/shape/nc.shp' using driver `ESRI Shapefile' #> Simple feature collection with 100 features and 14 fields #> Geometry type: MULTIPOLYGON #> Dimension:     XY #> Bounding box:  xmin: -84.32385 ymin: 33.88199 xmax: -75.45698 ymax: 36.58965 #> Geodetic CRS:  NAD27 nc_centroid = st_centroid_within_poly(nc) #> Warning: st_centroid assumes attributes are constant over geometries #> Warning: st_point_on_surface may not give correct results for longitude/latitude data"},{"path":"https://kentwildlifetrust.github.io/kwt/reference/start_query.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a query from a table reference — start_query","title":"Create a query from a table reference — start_query","text":"Create query table reference","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/reference/start_query.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a query from a table reference — start_query","text":"","code":"start_query(ref, conn = db)"},{"path":"https://kentwildlifetrust.github.io/kwt/reference/start_query.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a query from a table reference — start_query","text":"ref table reference format provided list_tables() conn connection object","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/reference/start_query.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a query from a table reference — start_query","text":"dplyr tbl object","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/reference/start_query.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create a query from a table reference — start_query","text":"function generates dplyr lazy tbl object table reference format provided list_tables(). useful creating sql query dplyr syntax.","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/reference/to_title_case.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert a string from snake_case to a pretty title case — to_title_case","title":"Convert a string from snake_case to a pretty title case — to_title_case","text":"Takes character vector converts character vector nice looking titles, taking account common acronyms abbreviations.","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/reference/to_title_case.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert a string from snake_case to a pretty title case — to_title_case","text":"","code":"to_title_case(name)"},{"path":"https://kentwildlifetrust.github.io/kwt/reference/to_title_case.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert a string from snake_case to a pretty title case — to_title_case","text":"name string snake_case","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/reference/to_title_case.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert a string from snake_case to a pretty title case — to_title_case","text":"character vector names title case","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/reference/to_title_case.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert a string from snake_case to a pretty title case — to_title_case","text":"","code":"to_title_case(\"my_column_name\") #> [1] \"My Column Name\" # \"My Column Name\"  to_title_case(c(\"kwtid\", \"img_url\", \"geom\")) #> [1] \"KWTID\"     \"Image URL\" \"Geometry\"  #  \"KWTID\"     \"Image URL\" \"Geometry\""},{"path":"https://kentwildlifetrust.github.io/kwt/reference/wc_db_connect.html","id":null,"dir":"Reference","previous_headings":"","what":"Establishing a database connection to the Wilder Carbon Registry PostGIS database — wc_db_connect","title":"Establishing a database connection to the Wilder Carbon Registry PostGIS database — wc_db_connect","text":"Establishing database connection Wilder Carbon Registry PostGIS database","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/reference/wc_db_connect.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Establishing a database connection to the Wilder Carbon Registry PostGIS database — wc_db_connect","text":"","code":"wc_db_connect(   username = Sys.getenv(\"wc_user\"),   password = Sys.getenv(\"wc_password\") )"},{"path":"https://kentwildlifetrust.github.io/kwt/reference/wc_db_connect.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Establishing a database connection to the Wilder Carbon Registry PostGIS database — wc_db_connect","text":"username postgres username, default autoreads wc_user global .renviron file, see usethis::edit_r_environ() details password postgres password, default autoreads wc_user global .renviron file, see usethis::edit_r_environ() details","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/reference/wc_db_connect.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Establishing a database connection to the Wilder Carbon Registry PostGIS database — wc_db_connect","text":"","code":"conn <- wc_db_connect() #> Error: connection to server on socket \"/var/run/postgresql/.s.PGSQL.5432\" failed: No such file or directory #> \tIs the server running locally and accepting connections on that socket?"},{"path":"https://kentwildlifetrust.github.io/kwt/reference/write_table_report.html","id":null,"dir":"Reference","previous_headings":"","what":"Write an HTML report about a table — write_table_report","title":"Write an HTML report about a table — write_table_report","text":"Write HTML report table","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/reference/write_table_report.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Write an HTML report about a table — write_table_report","text":"","code":"write_table_report(   ref,   conn = db,   filepath = paste0(ref$table_schema, \"__\", ref$table_name, \".html\") )"},{"path":"https://kentwildlifetrust.github.io/kwt/reference/write_table_report.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Write an HTML report about a table — write_table_report","text":"ref reference table conn database connection filepath Path html file write report . Default table_schema__table_name.html","code":""},{"path":"https://kentwildlifetrust.github.io/kwt/news/index.html","id":"kwt-001","dir":"Changelog","previous_headings":"","what":"kwt 0.0.1","title":"kwt 0.0.1","text":"Functions working UK Postal Codes Ordnance Survey Grid References Functions listing reading tables Postgres Database, cleverly deal geometries. Functions creating databases tables Postgres, including graphical data modelling tool based {ReDaMoR}.","code":""}]
